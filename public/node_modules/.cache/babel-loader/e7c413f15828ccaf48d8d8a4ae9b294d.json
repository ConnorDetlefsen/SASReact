{"ast":null,"code":"var _jsxFileName = \"/Users/connordetlefsen/Downloads/SAS-master/sas_project_freelancer/src/Pages/Tickets.jsx\";\nimport React, { Component } from \"react\";\nimport Sidebar from \"../Components/Sidebar\";\nimport NavBar from \"../Components/NavBar\";\nimport Ticket from \"../Components/Ticket\";\nimport UserContext from \"../Context/UserContext\";\nimport http from \"../APIServices/httpService\";\nimport config from \"../APIServices/config.json\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Box, Container, Grid, Typography } from \"@material-ui/core\";\n\nclass Tickets extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      option1: false,\n      //read these values in\n      option2: false,\n      option3: false,\n      option4: false,\n      //selected: false,\n      option1Name: \"option 1 name\",\n      option1Description: \"option 1 description\",\n      option2Name: \"option 2 name\",\n      option2Description: \"option 2 description\",\n      option3Name: \"option 3 name\",\n      option3Description: \"option 3 description\",\n      option4Name: \"option 4 name\",\n      option4Description: \"option 4 description\",\n      teamTickets: [],\n      ticketOptions: [],\n      ticketBundles: [],\n      ticketDiscounts: [],\n      test: false\n    };\n\n    this.handleClick = e => {\n      let type = e.currentTarget.attributes.databasename.value;\n      let displayName = e.currentTarget.name;\n      let id = e.currentTarget.id;\n      this.state.teamTickets[type] = id;\n      toast.success(displayName + \" Option \" + id + \" Selected\");\n      http.put(config.apiEndpoint + \"/tickets/\" + this.context.currentUser.teamID, this.state.teamTickets);\n      this.setState({\n        test: true\n      });\n    };\n  }\n\n  async componentDidMount() {\n    console.log(\"page started\");\n    http.get(config.apiEndpoint + \"/tickets/\" + this.context.currentUser.teamID).then(res => {\n      console.log(res.data);\n      this.setState({\n        teamTickets: res.data\n      });\n    });\n    http.get(config.apiEndpoint + \"/ticketoptions/\").then(res => {\n      console.log(res.data);\n      this.setState({\n        ticketOptions: res.data\n      });\n    });\n    http.get(config.apiEndpoint + \"/ticketbundle/\").then(res => {\n      console.log(res.data);\n      this.setState({\n        ticketBundles: res.data\n      });\n    });\n    http.get(config.apiEndpoint + \"/ticketdiscounts/\").then(res => {\n      console.log(res.data);\n      this.setState({\n        ticketDiscounts: res.data\n      });\n    });\n  }\n  /*\n  changeColor() {\n    //used to c\n    this.setState({ selected: !this.state.selected });\n  }\n  */\n\n\n  render() {\n    //let btn_class = (this.state.selected = \"selected\");\n    const {\n      teamTickets\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      id: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      activePage: \"tickets\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      id: \"page-content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      budget: this.context.currentUser.budget,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      px: 5,\n      py: 4,\n      className: \"bg-white box-shadow rounded\",\n      minHeight: \"calc(100vh - 140px)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 1,\n      textAlign: \"center\",\n      fontWeight: \"fontWeightBold\",\n      className: \"bg-blue box-shadow rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, \"Ticket Choices\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      className: \"rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, \"Adult and Child\"), this.state.ticketOptions.map(ticketOptions => /*#__PURE__*/React.createElement(\"tr\", {\n      key: ticketOptions.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Ticket, {\n      name: \"Adult and Child\",\n      databasename: \"adult_children\",\n      description: ticketOptions.description,\n      onClick: this.handleClick(),\n      id: ticketOptions.option_id // selected={this.state.option[ticketOptions.id]}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      className: \"rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Bundles\"), this.state.ticketBundles.map(ticketBundles => /*#__PURE__*/React.createElement(\"tr\", {\n      key: ticketBundles.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Ticket, {\n      name: \"Bundle\",\n      databasename: \"bundle\",\n      description: ticketBundles.description,\n      onClick: e => {\n        this.handleClick(e);\n      },\n      id: ticketBundles.bundle_id // selected={this.state.option[ticketOptions.id]}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      spacing: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      className: \"rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, \"Discounts\"), this.state.ticketDiscounts.map(ticketDiscounts => /*#__PURE__*/React.createElement(\"tr\", {\n      key: ticketDiscounts.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Ticket, {\n      name: \"Discount\",\n      databasename: \"discount\",\n      description: ticketDiscounts.description,\n      onClick: e => {\n        this.handleClick(e);\n      },\n      id: ticketDiscounts.discount_id // selected={this.state.option[ticketOptions.id]}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }))))))))));\n  }\n\n}\n\nTickets.contextType = UserContext;\nexport default Tickets;","map":{"version":3,"sources":["/Users/connordetlefsen/Downloads/SAS-master/sas_project_freelancer/src/Pages/Tickets.jsx"],"names":["React","Component","Sidebar","NavBar","Ticket","UserContext","http","config","toast","ToastContainer","Box","Container","Grid","Typography","Tickets","state","option1","option2","option3","option4","option1Name","option1Description","option2Name","option2Description","option3Name","option3Description","option4Name","option4Description","teamTickets","ticketOptions","ticketBundles","ticketDiscounts","test","handleClick","e","type","currentTarget","attributes","databasename","value","displayName","name","id","success","put","apiEndpoint","context","currentUser","teamID","setState","componentDidMount","console","log","get","then","res","data","render","budget","map","description","option_id","bundle_id","discount_id","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Sidebar from \"../Components/Sidebar\";\nimport NavBar from \"../Components/NavBar\";\nimport Ticket from \"../Components/Ticket\";\nimport UserContext from \"../Context/UserContext\";\n\nimport http from \"../APIServices/httpService\";\nimport config from \"../APIServices/config.json\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Box, Container, Grid, Typography } from \"@material-ui/core\";\n\nclass Tickets extends Component {\n  static contextType = UserContext;\n\n  state = {\n    option1: false, //read these values in\n    option2: false,\n\n    option3: false,\n    option4: false,\n\n    //selected: false,\n\n    option1Name: \"option 1 name\",\n    option1Description: \"option 1 description\",\n\n    option2Name: \"option 2 name\",\n    option2Description: \"option 2 description\",\n\n    option3Name: \"option 3 name\",\n    option3Description: \"option 3 description\",\n\n    option4Name: \"option 4 name\",\n    option4Description: \"option 4 description\",\n\n    teamTickets: [],\n    ticketOptions: [],\n    ticketBundles: [],\n    ticketDiscounts: [],\n\n    test: false,\n  };\n\n  async componentDidMount() {\n    console.log(\"page started\");\n    http\n      .get(config.apiEndpoint + \"/tickets/\" + this.context.currentUser.teamID)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ teamTickets: res.data });\n      });\n    http.get(config.apiEndpoint + \"/ticketoptions/\").then((res) => {\n      console.log(res.data);\n      this.setState({ ticketOptions: res.data });\n    });\n    http.get(config.apiEndpoint + \"/ticketbundle/\").then((res) => {\n      console.log(res.data);\n      this.setState({ ticketBundles: res.data });\n    });\n    http.get(config.apiEndpoint + \"/ticketdiscounts/\").then((res) => {\n      console.log(res.data);\n      this.setState({ ticketDiscounts: res.data });\n    });\n  }\n  /*\n  changeColor() {\n    //used to c\n    this.setState({ selected: !this.state.selected });\n  }\n*/\n  handleClick = (e) => {\n    let type = e.currentTarget.attributes.databasename.value;\n    let displayName = e.currentTarget.name;\n    let id = e.currentTarget.id;\n    this.state.teamTickets[type] = id;\n    toast.success(displayName + \" Option \" + id + \" Selected\");\n    http.put(\n      config.apiEndpoint + \"/tickets/\" + this.context.currentUser.teamID,\n      this.state.teamTickets\n    );\n    this.setState({ test: true });\n  };\n\n  render() {\n    //let btn_class = (this.state.selected = \"selected\");\n    const { teamTickets } = this.state;\n\n    return (\n      <React.Fragment>\n        <ToastContainer />\n\n        <Box display=\"flex\" id=\"wrapper\">\n          <Sidebar activePage=\"tickets\" />\n          <Container id=\"page-content-wrapper\">\n            <NavBar budget={this.context.currentUser.budget} />\n            <Box\n              px={5}\n              py={4}\n              className=\"bg-white box-shadow rounded\"\n              minHeight={\"calc(100vh - 140px)\"}\n            >\n              <Grid container>\n                <Grid item xs={12}>\n                  <Box\n                    p={1}\n                    textAlign=\"center\"\n                    fontWeight=\"fontWeightBold\"\n                    className=\"bg-blue box-shadow rounded\"\n                  >\n                    Ticket Choices\n                  </Box>\n                </Grid>\n\n                <Grid item xs={4}>\n                  <Box className=\"rounded\">\n                    <h1>Adult and Child</h1>\n                    {this.state.ticketOptions.map((ticketOptions) => (\n                      <tr key={ticketOptions.id}>\n                        <Ticket\n                          name=\"Adult and Child\"\n                          databasename=\"adult_children\"\n                          description={ticketOptions.description}\n                          onClick={this.handleClick()}\n                          id={ticketOptions.option_id}\n                          // selected={this.state.option[ticketOptions.id]}\n                        ></Ticket>\n                        <br></br>\n                      </tr>\n                    ))}\n                  </Box>\n                </Grid>\n                <br />\n                <Grid item xs={4}>\n                  <Box className=\"rounded\">\n                    <h1>Bundles</h1>\n                    {this.state.ticketBundles.map((ticketBundles) => (\n                      <tr key={ticketBundles.id}>\n                        <Ticket\n                          name=\"Bundle\"\n                          databasename=\"bundle\"\n                          description={ticketBundles.description}\n                          onClick={(e) => {\n                            this.handleClick(e);\n                          }}\n                          id={ticketBundles.bundle_id}\n                          // selected={this.state.option[ticketOptions.id]}\n                        ></Ticket>\n                        <br></br>\n                      </tr>\n                    ))}\n                  </Box>\n                </Grid>\n                <Grid item xs={4} spacing={3}>\n                  <Box className=\"rounded\">\n                    <h1>Discounts</h1>\n                    {this.state.ticketDiscounts.map((ticketDiscounts) => (\n                      <tr key={ticketDiscounts.id}>\n                        <Ticket\n                          name=\"Discount\"\n                          databasename=\"discount\"\n                          description={ticketDiscounts.description}\n                          onClick={(e) => {\n                            this.handleClick(e);\n                          }}\n                          id={ticketDiscounts.discount_id}\n                          // selected={this.state.option[ticketOptions.id]}\n                        ></Ticket>\n                        <br></br>\n                      </tr>\n                    ))}\n                  </Box>\n                </Grid>\n              </Grid>\n            </Box>\n          </Container>\n        </Box>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Tickets;\n"]},"metadata":{},"sourceType":"module"}