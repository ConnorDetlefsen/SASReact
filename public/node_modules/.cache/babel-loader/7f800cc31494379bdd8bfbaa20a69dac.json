{"ast":null,"code":"var _jsxFileName = \"/Users/connordetlefsen/Downloads/SAS-master/sas_project_freelancer/src/Pages/Marketing.jsx\";\nimport React, { Component } from \"react\";\nimport Sidebar from \"../Components/Sidebar\";\nimport NavBar from \"../Components/NavBar\";\nimport MarketingPack from \"../Components/MarketingPack\";\nimport UserContext from \"../Context/UserContext\";\nimport http from \"../APIServices/httpService\";\nimport config from \"../APIServices/config.json\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Box, Container, Grid } from \"@material-ui/core\";\n\nclass Marketing extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      facebook: false,\n      twitter: false,\n      instagram: false,\n      television: false,\n      team: [],\n      test: false\n    };\n\n    this.budgetUpdate = async team => {\n      const amount = this.state.amount;\n      const budget = team.budget; // used to set api team.budget\n\n      const isBudgetNotNegative = parseInt(budget, 10) - parseInt(amount, 10);\n      console.log(isBudgetNotNegative);\n\n      if (isBudgetNotNegative < 0) {\n        toast.error(\"You don't have enough money!\");\n        return;\n      }\n\n      team.budget = parseInt(budget, 10) - parseInt(amount, 10);\n      this.context.currentUser.budget = team.budget; //updates the context\n\n      const {\n        data\n      } = await http.put(config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID, team);\n      console.log(data);\n    };\n\n    this.onClick = e => {\n      const {\n        team\n      } = this.state;\n      const amount = e.currentTarget.value;\n      const budget = team.budget; // used to set api team.budget\n\n      const isBudgetNotNegative = parseInt(budget, 10) - parseInt(amount, 10);\n      console.log(isBudgetNotNegative);\n\n      if (isBudgetNotNegative < 0) {\n        toast.error(\"You don't have enough money!\");\n        return;\n      }\n\n      team.budget = parseInt(budget, 10) - parseInt(amount, 10);\n      this.context.currentUser.budget = team.budget; //updates the context\n\n      this.setState({\n        test: true\n      });\n      http.put(config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID, team);\n\n      if (e.currentTarget.name === \"Twitter\") {\n        this.setState({\n          twitter: true\n        });\n      }\n\n      if (e.currentTarget.name === \"Instagram\") {\n        this.setState({\n          instagram: true\n        });\n      }\n\n      if (e.currentTarget.name === \"Facebook\") {\n        this.setState({\n          facebook: true\n        });\n      }\n\n      if (e.currentTarget.name === \"Television\") {\n        this.setState({\n          television: true\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      history\n    } = this.props;\n\n    if (this.context.currentUser.name === null) {\n      history.push(\"/\");\n    }\n\n    http.get(config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID).then(res => {\n      this.setState({\n        team: res.data\n      });\n    });\n  }\n\n  //make api calls here, adjust budget\n  render() {\n    const {\n      facebook,\n      instagram,\n      twitter,\n      television\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      id: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      activePage: \"marketing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      id: \"page-content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      pagename: \"Marketing\",\n      budget: this.context.currentUser.budget,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      px: 5,\n      py: 4,\n      className: \"bg-white box-shadow rounded\",\n      minHeight: \"calc(100vh - 140px)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 1,\n      textAlign: \"center\",\n      fontWeight: \"fontWeightBold\",\n      className: \"bg-blue box-shadow rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, \"Marketing\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      class: \"columns2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, facebook === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Facebook\",\n      value: \"5000\",\n      onClick: this.onClick,\n      purchased: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 23\n      }\n    })), facebook === false && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Facebook\",\n      value: \"5000\",\n      onClick: this.onClick,\n      displayButton: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }), twitter === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Twitter\",\n      value: \"5000\",\n      onClick: this.onClick,\n      purchased: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    })), twitter === false && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Twitter\",\n      value: \"5000\",\n      onClick: this.onClick,\n      displayButton: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, instagram === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Instagram\",\n      value: \"5000\",\n      onClick: this.onClick,\n      purchased: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 23\n      }\n    })), instagram === false && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Instagram\",\n      value: \"5000\",\n      onClick: this.onClick,\n      displayButton: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }), television === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Television\",\n      value: \"5000\",\n      onClick: this.onClick,\n      purchased: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 23\n      }\n    })), television === false && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MarketingPack, {\n      name: \"Television\",\n      value: \"5000\",\n      onClick: this.onClick,\n      displayButton: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 23\n      }\n    }))))))));\n  }\n\n}\n\nMarketing.contextType = UserContext;\nexport default Marketing;","map":{"version":3,"sources":["/Users/connordetlefsen/Downloads/SAS-master/sas_project_freelancer/src/Pages/Marketing.jsx"],"names":["React","Component","Sidebar","NavBar","MarketingPack","UserContext","http","config","toast","ToastContainer","Box","Container","Grid","Marketing","state","facebook","twitter","instagram","television","team","test","budgetUpdate","amount","budget","isBudgetNotNegative","parseInt","console","log","error","context","currentUser","data","put","apiEndpoint","teamID","onClick","e","currentTarget","value","setState","name","componentDidMount","history","props","push","get","then","res","render","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAsC,gBAAtC;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,IAAzB,QAAqC,mBAArC;;AAEA,MAAMC,SAAN,SAAwBZ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAGhCa,KAHgC,GAGxB;AACNC,MAAAA,QAAQ,EAAE,KADJ;AAENC,MAAAA,OAAO,EAAE,KAFH;AAGNC,MAAAA,SAAS,EAAE,KAHL;AAINC,MAAAA,UAAU,EAAE,KAJN;AAKNC,MAAAA,IAAI,EAAE,EALA;AAMNC,MAAAA,IAAI,EAAE;AANA,KAHwB;;AAAA,SA0BhCC,YA1BgC,GA0BjB,MAAOF,IAAP,IAAgB;AAC7B,YAAMG,MAAM,GAAG,KAAKR,KAAL,CAAWQ,MAA1B;AACA,YAAMC,MAAM,GAAGJ,IAAI,CAACI,MAApB,CAF6B,CAED;;AAE5B,YAAMC,mBAAmB,GAAGC,QAAQ,CAACF,MAAD,EAAS,EAAT,CAAR,GAAuBE,QAAQ,CAACH,MAAD,EAAS,EAAT,CAA3D;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYH,mBAAZ;;AACA,UAAIA,mBAAmB,GAAG,CAA1B,EAA6B;AAC3BhB,QAAAA,KAAK,CAACoB,KAAN,CAAY,8BAAZ;AACA;AACD;;AACDT,MAAAA,IAAI,CAACI,MAAL,GAAcE,QAAQ,CAACF,MAAD,EAAS,EAAT,CAAR,GAAuBE,QAAQ,CAACH,MAAD,EAAS,EAAT,CAA7C;AAEA,WAAKO,OAAL,CAAaC,WAAb,CAAyBP,MAAzB,GAAkCJ,IAAI,CAACI,MAAvC,CAZ6B,CAYkB;;AAE/C,YAAM;AAAEQ,QAAAA;AAAF,UAAW,MAAMzB,IAAI,CAAC0B,GAAL,CACrBzB,MAAM,CAAC0B,WAAP,GAAqB,QAArB,GAAgC,KAAKJ,OAAL,CAAaC,WAAb,CAAyBI,MADpC,EAErBf,IAFqB,CAAvB;AAIAO,MAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ;AACD,KA7C+B;;AAAA,SA+ChCI,OA/CgC,GA+CrBC,CAAD,IAAO;AACf,YAAM;AAAEjB,QAAAA;AAAF,UAAW,KAAKL,KAAtB;AAEA,YAAMQ,MAAM,GAAGc,CAAC,CAACC,aAAF,CAAgBC,KAA/B;AACA,YAAMf,MAAM,GAAGJ,IAAI,CAACI,MAApB,CAJe,CAIa;;AAE5B,YAAMC,mBAAmB,GAAGC,QAAQ,CAACF,MAAD,EAAS,EAAT,CAAR,GAAuBE,QAAQ,CAACH,MAAD,EAAS,EAAT,CAA3D;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYH,mBAAZ;;AACA,UAAIA,mBAAmB,GAAG,CAA1B,EAA6B;AAC3BhB,QAAAA,KAAK,CAACoB,KAAN,CAAY,8BAAZ;AACA;AACD;;AACDT,MAAAA,IAAI,CAACI,MAAL,GAAcE,QAAQ,CAACF,MAAD,EAAS,EAAT,CAAR,GAAuBE,QAAQ,CAACH,MAAD,EAAS,EAAT,CAA7C;AAEA,WAAKO,OAAL,CAAaC,WAAb,CAAyBP,MAAzB,GAAkCJ,IAAI,CAACI,MAAvC,CAde,CAcgC;;AAE/C,WAAKgB,QAAL,CAAc;AAAEnB,QAAAA,IAAI,EAAE;AAAR,OAAd;AACAd,MAAAA,IAAI,CAAC0B,GAAL,CACEzB,MAAM,CAAC0B,WAAP,GAAqB,QAArB,GAAgC,KAAKJ,OAAL,CAAaC,WAAb,CAAyBI,MAD3D,EAEEf,IAFF;;AAIA,UAAIiB,CAAC,CAACC,aAAF,CAAgBG,IAAhB,KAAyB,SAA7B,EAAwC;AACtC,aAAKD,QAAL,CAAc;AAAEvB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;;AACD,UAAIoB,CAAC,CAACC,aAAF,CAAgBG,IAAhB,KAAyB,WAA7B,EAA0C;AACxC,aAAKD,QAAL,CAAc;AAAEtB,UAAAA,SAAS,EAAE;AAAb,SAAd;AACD;;AACD,UAAImB,CAAC,CAACC,aAAF,CAAgBG,IAAhB,KAAyB,UAA7B,EAAyC;AACvC,aAAKD,QAAL,CAAc;AAAExB,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACD;;AACD,UAAIqB,CAAC,CAACC,aAAF,CAAgBG,IAAhB,KAAyB,YAA7B,EAA2C;AACzC,aAAKD,QAAL,CAAc;AAAErB,UAAAA,UAAU,EAAE;AAAd,SAAd;AACD;AACF,KAhF+B;AAAA;;AAYhC,QAAMuB,iBAAN,GAA0B;AACxB,UAAM;AAAEC,MAAAA;AAAF,QAAc,KAAKC,KAAzB;;AAEA,QAAI,KAAKd,OAAL,CAAaC,WAAb,CAAyBU,IAAzB,KAAkC,IAAtC,EAA4C;AAC1CE,MAAAA,OAAO,CAACE,IAAR,CAAa,GAAb;AACD;;AAEDtC,IAAAA,IAAI,CACDuC,GADH,CACOtC,MAAM,CAAC0B,WAAP,GAAqB,QAArB,GAAgC,KAAKJ,OAAL,CAAaC,WAAb,CAAyBI,MADhE,EAEGY,IAFH,CAESC,GAAD,IAAS;AACb,WAAKR,QAAL,CAAc;AAAEpB,QAAAA,IAAI,EAAE4B,GAAG,CAAChB;AAAZ,OAAd;AACD,KAJH;AAKD;;AAyDD;AAEAiB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEjC,MAAAA,QAAF;AAAYE,MAAAA,SAAZ;AAAuBD,MAAAA,OAAvB;AAAgCE,MAAAA;AAAhC,QAA+C,KAAKJ,KAA1D;AACA,wBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAGE,oBAAC,GAAD;AAAK,MAAA,OAAO,EAAC,MAAb;AAAoB,MAAA,EAAE,EAAC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,UAAU,EAAC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,QAAQ,EAAC,WADX;AAEE,MAAA,MAAM,EAAE,KAAKe,OAAL,CAAaC,WAAb,CAAyBP,MAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAKE,oBAAC,GAAD;AACE,MAAA,EAAE,EAAE,CADN;AAEE,MAAA,EAAE,EAAE,CAFN;AAGE,MAAA,SAAS,EAAC,6BAHZ;AAIE,MAAA,SAAS,EAAE,qBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AACE,MAAA,CAAC,EAAE,CADL;AAEE,MAAA,SAAS,EAAC,QAFZ;AAGE,MAAA,UAAU,EAAC,gBAHb;AAIE,MAAA,SAAS,EAAC,4BAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,CANF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBF,eAmBE,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGR,QAAQ,KAAK,IAAb,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKoB,OAHhB;AAIE,MAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,EAWGpB,QAAQ,KAAK,KAAb,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKoB,OAHhB;AAIE,MAAA,aAAa,EAAC,MAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAZJ,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EAsBGnB,OAAO,KAAK,IAAZ,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKmB,OAHhB;AAIE,MAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAvBJ,EAgCGnB,OAAO,KAAK,KAAZ,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKmB,OAHhB;AAIE,MAAA,aAAa,EAAC,MAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAjCJ,CADF,eA4CE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGlB,SAAS,KAAK,IAAd,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKkB,OAHhB;AAIE,MAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,EAWGlB,SAAS,KAAK,KAAd,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKkB,OAHhB;AAIE,MAAA,aAAa,EAAC,MAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAZJ,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EAsBGjB,UAAU,KAAK,IAAf,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,YADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKiB,OAHhB;AAIE,MAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAvBJ,EAgCGjB,UAAU,KAAK,KAAf,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAC,YADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,OAAO,EAAE,KAAKiB,OAHhB;AAIE,MAAA,aAAa,EAAC,MAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAjCJ,CA5CF,CAnBF,CALF,CAFF,CAHF,CADF;AA2HD;;AAhN+B;;AAA5BtB,S,CACGoC,W,GAAc5C,W;AAkNvB,eAAeQ,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Sidebar from \"../Components/Sidebar\";\nimport NavBar from \"../Components/NavBar\";\nimport MarketingPack from \"../Components/MarketingPack\";\nimport UserContext from \"../Context/UserContext\";\n\nimport http from \"../APIServices/httpService\";\nimport config from \"../APIServices/config.json\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Box, Container, Grid } from \"@material-ui/core\";\n\nclass Marketing extends Component {\n  static contextType = UserContext;\n\n  state = {\n    facebook: false,\n    twitter: false,\n    instagram: false,\n    television: false,\n    team: [],\n    test: false,\n  };\n\n  async componentDidMount() {\n    const { history } = this.props;\n\n    if (this.context.currentUser.name === null) {\n      history.push(\"/\");\n    }\n\n    http\n      .get(config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID)\n      .then((res) => {\n        this.setState({ team: res.data });\n      });\n  }\n\n  budgetUpdate = async (team) => {\n    const amount = this.state.amount;\n    const budget = team.budget; // used to set api team.budget\n\n    const isBudgetNotNegative = parseInt(budget, 10) - parseInt(amount, 10);\n    console.log(isBudgetNotNegative);\n    if (isBudgetNotNegative < 0) {\n      toast.error(\"You don't have enough money!\");\n      return;\n    }\n    team.budget = parseInt(budget, 10) - parseInt(amount, 10);\n\n    this.context.currentUser.budget = team.budget; //updates the context\n\n    const { data } = await http.put(\n      config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID,\n      team\n    );\n    console.log(data);\n  };\n\n  onClick = (e) => {\n    const { team } = this.state;\n\n    const amount = e.currentTarget.value;\n    const budget = team.budget; // used to set api team.budget\n\n    const isBudgetNotNegative = parseInt(budget, 10) - parseInt(amount, 10);\n    console.log(isBudgetNotNegative);\n    if (isBudgetNotNegative < 0) {\n      toast.error(\"You don't have enough money!\");\n      return;\n    }\n    team.budget = parseInt(budget, 10) - parseInt(amount, 10);\n\n    this.context.currentUser.budget = team.budget; //updates the context\n\n    this.setState({ test: true });\n    http.put(\n      config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID,\n      team\n    );\n    if (e.currentTarget.name === \"Twitter\") {\n      this.setState({ twitter: true });\n    }\n    if (e.currentTarget.name === \"Instagram\") {\n      this.setState({ instagram: true });\n    }\n    if (e.currentTarget.name === \"Facebook\") {\n      this.setState({ facebook: true });\n    }\n    if (e.currentTarget.name === \"Television\") {\n      this.setState({ television: true });\n    }\n  };\n  //make api calls here, adjust budget\n\n  render() {\n    const { facebook, instagram, twitter, television } = this.state;\n    return (\n      <React.Fragment>\n        <ToastContainer />\n\n        <Box display=\"flex\" id=\"wrapper\">\n          <Sidebar activePage=\"marketing\" />\n          <Container id=\"page-content-wrapper\">\n            <NavBar\n              pagename=\"Marketing\"\n              budget={this.context.currentUser.budget}\n            />\n            <Box\n              px={5}\n              py={4}\n              className=\"bg-white box-shadow rounded\"\n              minHeight={\"calc(100vh - 140px)\"}\n            >\n              <Grid container>\n                <Grid item xs={12}>\n                  <Box\n                    p={1}\n                    textAlign=\"center\"\n                    fontWeight=\"fontWeightBold\"\n                    className=\"bg-blue box-shadow rounded\"\n                  >\n                    Marketing\n                  </Box>\n                </Grid>\n              </Grid>\n              <br />\n              <Box class=\"columns2\">\n                <div class=\"column\">\n                  {facebook === true && (\n                    <div>\n                      <MarketingPack\n                        name=\"Facebook\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        purchased=\"true\"\n                      />\n                    </div>\n                  )}\n                  {facebook === false && (\n                    <div>\n                      <MarketingPack\n                        name=\"Facebook\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        displayButton=\"true\"\n                      />\n                    </div>\n                  )}\n                  <br />\n                  {twitter === true && (\n                    <div>\n                      <MarketingPack\n                        name=\"Twitter\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        purchased=\"true\"\n                      />\n                    </div>\n                  )}\n                  {twitter === false && (\n                    <div>\n                      <MarketingPack\n                        name=\"Twitter\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        displayButton=\"true\"\n                      />\n                    </div>\n                  )}\n                </div>\n                <div class=\"column\">\n                  {instagram === true && (\n                    <div>\n                      <MarketingPack\n                        name=\"Instagram\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        purchased=\"true\"\n                      />\n                    </div>\n                  )}\n                  {instagram === false && (\n                    <div>\n                      <MarketingPack\n                        name=\"Instagram\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        displayButton=\"true\"\n                      />\n                    </div>\n                  )}\n                  <br />\n                  {television === true && (\n                    <div>\n                      <MarketingPack\n                        name=\"Television\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        purchased=\"true\"\n                      />\n                    </div>\n                  )}\n                  {television === false && (\n                    <div>\n                      <MarketingPack\n                        name=\"Television\"\n                        value=\"5000\"\n                        onClick={this.onClick}\n                        displayButton=\"true\"\n                      />\n                    </div>\n                  )}\n                </div>\n              </Box>\n            </Box>\n          </Container>\n        </Box>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Marketing;\n"]},"metadata":{},"sourceType":"module"}