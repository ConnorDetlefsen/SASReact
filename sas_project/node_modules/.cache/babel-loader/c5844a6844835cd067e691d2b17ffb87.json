{"ast":null,"code":"var _jsxFileName = \"/Users/arshiasharma/Downloads/SASReact/sas_project/src/Pages/Messages.jsx\";\nimport React, { Component } from \"react\";\nimport Sidebar from \"../Components/Sidebar\";\nimport NavBar from \"../Components/NavBar\";\nimport UserContext from \"../Context/UserContext\";\nimport Message from \"../Components/Message\";\nimport { Box, Container, Grid } from \"@material-ui/core\";\nimport MessagesCheckBox from \"../Components/MessagesCheckBox\";\nimport http from \"../APIServices/httpService\";\nimport config from \"../APIServices/config.json\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      http.post(config.apiEndpoint + \"/message/\", {\n        subject_line: this.state.selectValue,\n        message: this.state.new_message,\n        team_id: this.context.currentUser.teamID,\n        round_num: this.context.currentUser.round\n      });\n      toast.success(\"Message Submitted\");\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        new_message: e.target.value\n      });\n    };\n\n    this.onFinishPeriod = e => {\n      console.log(\"submit\");\n    };\n\n    this.state = {\n      message: \"\",\n      new_message: \"\",\n      errors: {},\n      team: [],\n      selectValue: \"Message to your company\",\n      submittedMessage: \"\",\n      alreadyAnswered: false\n    };\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n  }\n\n  async componentDidMount() {\n    http.get(config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID).then(res => {\n      this.setState({\n        team: res.data\n      });\n      this.context.currentUser.budget = res.data.budget; //updates the context\n    });\n  }\n\n  handleDropdownChange(e) {\n    this.setState({\n      selectValue: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      id: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      activePage: \"messages\",\n      onFinishPeriod: this.onFinishPeriod,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      id: \"page-content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      pagename: \"map\",\n      budget: this.context.currentUser.budget,\n      period: this.context.currentUser.round,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      px: 5,\n      py: 4,\n      className: \"bg-white box-shadow rounded\",\n      minHeight: \"calc(100vh - 140px)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 1,\n      textAlign: \"center\",\n      fontWeight: \"fontWeightBold\",\n      className: \"bg-blue box-shadow rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, \"Messages\"))), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      class: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 23\n      }\n    }, \"Description here of what we want?\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 23\n      }\n    }, \"Subject Line:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"dropdown\",\n      class: \" form-control form-control-sm \",\n      onChange: this.handleDropdownChange,\n      value: this.state.selectValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Message to your company\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 27\n      }\n    }, \"Message to your company\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Video to your company\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 27\n      }\n    }, \"Video to your company\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Daily update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 27\n      }\n    }, \"Daily update\"))), /*#__PURE__*/React.createElement(\"textarea\", {\n      onChange: this.handleChange,\n      className: \"form-control\",\n      rows: \"6\",\n      cols: \"10\",\n      maxLength: 300,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      // disabled={!this.context.currentUser.isManager}\n      type: \"submit\",\n      class: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, \"Submit\")))))));\n  }\n\n}\n\nMessages.contextType = UserContext;\nexport default Messages;","map":{"version":3,"sources":["/Users/arshiasharma/Downloads/SASReact/sas_project/src/Pages/Messages.jsx"],"names":["React","Component","Sidebar","NavBar","UserContext","Message","Box","Container","Grid","MessagesCheckBox","http","config","ToastContainer","toast","Messages","constructor","props","handleSubmit","e","preventDefault","post","apiEndpoint","subject_line","state","selectValue","message","new_message","team_id","context","currentUser","teamID","round_num","round","success","handleChange","setState","target","value","onFinishPeriod","console","log","errors","team","submittedMessage","alreadyAnswered","handleDropdownChange","bind","componentDidMount","get","then","res","data","budget","render","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Sidebar from \"../Components/Sidebar\";\nimport NavBar from \"../Components/NavBar\";\nimport UserContext from \"../Context/UserContext\";\nimport Message from \"../Components/Message\";\nimport { Box, Container, Grid } from \"@material-ui/core\";\nimport MessagesCheckBox from \"../Components/MessagesCheckBox\";\n\nimport http from \"../APIServices/httpService\";\nimport config from \"../APIServices/config.json\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass Messages extends Component {\n  static contextType = UserContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\",\n      new_message: \"\",\n      errors: {},\n      team: [],\n\n      selectValue: \"Message to your company\",\n\n      submittedMessage: \"\",\n      alreadyAnswered: false,\n    };\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n  }\n\n  async componentDidMount() {\n    http\n      .get(config.apiEndpoint + \"/team/\" + this.context.currentUser.teamID)\n      .then((res) => {\n        this.setState({ team: res.data });\n        this.context.currentUser.budget = res.data.budget; //updates the context\n      });\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n\n    http.post(config.apiEndpoint + \"/message/\", {\n      subject_line: this.state.selectValue,\n      message: this.state.new_message,\n      team_id: this.context.currentUser.teamID,\n      round_num: this.context.currentUser.round,\n    });\n    toast.success(\"Message Submitted\");\n  };\n  /*\n  handleCheckBoxChange = (e) => {\n    let state = e.currentTarget.attributes.stateVar.value; //this is the state var being changed by checking box\n    this.setState((initialState) => ({\n      [state]: !initialState[state],\n    }));\n  };*/\n\n  handleChange = (e) => {\n    this.setState({ new_message: e.target.value });\n  };\n\n  onFinishPeriod = (e) => {\n    console.log(\"submit\");\n  };\n\n  handleDropdownChange(e) {\n    this.setState({ selectValue: e.target.value });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <Box display=\"flex\" id=\"wrapper\">\n          <Sidebar activePage=\"messages\" onFinishPeriod={this.onFinishPeriod} />\n          <Container id=\"page-content-wrapper\">\n            <NavBar\n              pagename=\"map\"\n              budget={this.context.currentUser.budget}\n              period={this.context.currentUser.round}\n            />\n            <Box\n              px={5}\n              py={4}\n              className=\"bg-white box-shadow rounded\"\n              minHeight={\"calc(100vh - 140px)\"}\n            >\n              <Grid container>\n                <Grid item xs={12}>\n                  <Box\n                    p={1}\n                    textAlign=\"center\"\n                    fontWeight=\"fontWeightBold\"\n                    className=\"bg-blue box-shadow rounded\"\n                  >\n                    Messages\n                  </Box>\n                </Grid>\n              </Grid>\n              <center>\n                <form onSubmit={this.handleSubmit}>\n                  <div class=\"form-group\">\n                    <br />\n                    <Box class=\"center\">\n                      <p>Description here of what we want?</p>\n                      <label>\n                        Subject Line:\n                        <select\n                          id=\"dropdown\"\n                          class=\" form-control form-control-sm \"\n                          onChange={this.handleDropdownChange}\n                          value={this.state.selectValue}\n                        >\n                          <option value=\"Message to your company\">\n                            Message to your company\n                          </option>\n                          <option value=\"Video to your company\">\n                            Video to your company\n                          </option>\n                          <option value=\"Daily update\">Daily update</option>\n                        </select>\n                      </label>\n                      <textarea\n                        onChange={this.handleChange}\n                        className=\"form-control\"\n                        rows=\"6\"\n                        cols=\"10\"\n                        maxLength={300} \n                      ></textarea>\n                    </Box>\n                  </div>\n                  <button\n                    // disabled={!this.context.currentUser.isManager}\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                  >\n                    Submit\n                  </button>\n                </form>\n              </center>\n            </Box>\n          </Container>\n        </Box>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Messages;\n"]},"metadata":{},"sourceType":"module"}